(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[924],{446:(e,r,a)=>{"use strict";a.d(r,{BT:()=>o,Wu:()=>c,ZB:()=>n,Zp:()=>i,aR:()=>d});var t=a(606),s=a(6398),l=a(1419);let i=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});i.displayName="Card";let d=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...s})});d.displayName="CardHeader";let n=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});n.displayName="CardTitle";let o=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent",s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},1419:(e,r,a)=>{"use strict";a.d(r,{cn:()=>l});var t=a(9462),s=a(135);function l(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,s.QP)((0,t.$)(r))}},1696:(e,r,a)=>{"use strict";a.d(r,{p:()=>i});var t=a(606),s=a(6398),l=a(1419);let i=s.forwardRef((e,r)=>{let{className:a,type:s,...i}=e;return(0,t.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:r,...i})});i.displayName="Input"},2254:(e,r,a)=>{"use strict";a.d(r,{Label:()=>o});var t=a(606),s=a(6398),l=a(6567),i=a(1400),d=a(1419);let n=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)(l.b,{ref:r,className:(0,d.cn)(n(),a),...s})});o.displayName=l.b.displayName},4338:(e,r,a)=>{Promise.resolve().then(a.bind(a,9712))},5878:(e,r,a)=>{"use strict";a.d(r,{T:()=>i});var t=a(606),s=a(6398),l=a(1419);let i=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("textarea",{className:(0,l.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:r,...s})});i.displayName="Textarea"},7276:(e,r,a)=>{"use strict";a.d(r,{$:()=>o});var t=a(606),s=a(6398),l=a(5778),i=a(1400),d=a(1419);let n=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-purple-500",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,r)=>{let{className:a,variant:s,size:i,asChild:o=!1,...c}=e,u=o?l.DX:"button";return(0,t.jsx)(u,{className:(0,d.cn)(n({variant:s,size:i,className:a})),ref:r,...c})});o.displayName="Button"},9712:(e,r,a)=>{"use strict";a.d(r,{default:()=>V});var t=a(606),s=a(6398),l=a(5544),i=a(3955),d=a(7276),n=a(446),o=a(1696),c=a(2254),u=a(5878),m=a(4712),f=a(9674),p=a(2695),x=a(6940),h=a(1419);let b=m.bL;m.YJ;let g=m.WT,v=s.forwardRef((e,r)=>{let{className:a,children:s,...l}=e;return(0,t.jsxs)(m.l9,{ref:r,className:(0,h.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[s,(0,t.jsx)(m.In,{asChild:!0,children:(0,t.jsx)(f.A,{className:"h-4 w-4 opacity-50"})})]})});v.displayName=m.l9.displayName;let y=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)(m.PP,{ref:r,className:(0,h.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,t.jsx)(p.A,{className:"h-4 w-4"})})});y.displayName=m.PP.displayName;let N=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)(m.wn,{ref:r,className:(0,h.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,t.jsx)(f.A,{className:"h-4 w-4"})})});N.displayName=m.wn.displayName;let j=s.forwardRef((e,r)=>{let{className:a,children:s,position:l="popper",...i}=e;return(0,t.jsx)(m.ZL,{children:(0,t.jsxs)(m.UC,{ref:r,className:(0,h.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...i,children:[(0,t.jsx)(y,{}),(0,t.jsx)(m.LM,{className:(0,h.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,t.jsx)(N,{})]})})});j.displayName=m.UC.displayName,s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)(m.JU,{ref:r,className:(0,h.cn)("px-2 py-1.5 text-sm font-semibold",a),...s})}).displayName=m.JU.displayName;let w=s.forwardRef((e,r)=>{let{className:a,children:s,...l}=e;return(0,t.jsxs)(m.q7,{ref:r,className:(0,h.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,t.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(m.VF,{children:(0,t.jsx)(x.A,{className:"h-4 w-4"})})}),(0,t.jsx)(m.p4,{children:s})]})});w.displayName=m.q7.displayName,s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)(m.wv,{ref:r,className:(0,h.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=m.wv.displayName;var R=a(5077);let k=s.forwardRef((e,r)=>{let{className:a,orientation:s="horizontal",decorative:l=!0,...i}=e;return(0,t.jsx)(R.b,{ref:r,decorative:l,orientation:s,className:(0,h.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",a),...i})});k.displayName=R.b.displayName;var C=a(6493),F=a(7899),U=a(2058);let L=(0,U.createServerReference)("40507eea1ee3540b32e7f7498accc453a8844d8b68",U.callServer,void 0,U.findSourceMapURL,"addVideoAction"),T={15:"Entertainment",21:"Travel",17:"Arts",18:"Technology",19:"Nature",20:"People"};function V(e){let{categories:r}=e,a=(0,l.useRouter)(),[m,f]=(0,s.useState)(!1),[p,x]=(0,s.useState)({title:"",description:"",category:"",thumbnail:"",isFeatured:!1,videoUrl:""}),[h,y]=(0,s.useState)(null),N=e=>{let r=e.target,{name:a,value:t,type:s}=r;"checkbox"===s&&r instanceof HTMLInputElement?x(e=>({...e,[a]:r.checked})):x(e=>({...e,[a]:t}))},R=async e=>{e.preventDefault(),f(!0);let r=T[p.category].toLowerCase();try{await L({title:p.title,description:p.description,thumbnail_url:p.thumbnail,video_url:p.videoUrl,category_id:Number(p.category),featured:!!p.isFeatured,cat_slug:r}),a.push("/")}catch(e){console.error("Error submitting video:",e),alert("Error submitting video. Please try again.")}finally{f(!1)}};return(0,t.jsxs)("div",{className:"dark:bg-black min-h-screen bg-white",children:[(0,t.jsx)("div",{className:"dark:bg-black dark:border-b border-b-foreground/10 bg-gray-50 py-10",children:(0,t.jsxs)("div",{className:"container mx-auto px-4",children:[(0,t.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-center mb-2",children:"Add New Video"}),(0,t.jsx)("p",{className:"text-gray-600 text-center max-w-2xl mx-auto",children:"Share your creative content with the Vlog community"})]})}),(0,t.jsx)("div",{className:"container mx-auto px-4 py-10",children:(0,t.jsxs)(n.Zp,{className:"max-w-3xl mx-auto",children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Upload Video"}),(0,t.jsx)(n.BT,{children:"Fill out the form below to upload your video to the platform."})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)("form",{onSubmit:R,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"title",children:"Video Title"}),(0,t.jsx)(o.p,{id:"title",name:"title",placeholder:"Enter a descriptive title for your video",required:!0,value:p.title,onChange:N})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"description",children:"Description"}),(0,t.jsx)(u.T,{id:"description",name:"description",placeholder:"Describe your video in detail",rows:4,required:!0,value:p.description,onChange:N})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"category",children:"Category"}),(0,t.jsxs)(b,{value:p.category,onValueChange:e=>{x(r=>({...r,category:e}))},required:!0,children:[(0,t.jsx)(v,{children:(0,t.jsx)(g,{placeholder:"Select a category",children:p.category?T[p.category]:"Select a category"})}),(0,t.jsx)(j,{children:r.map(e=>(0,t.jsx)(w,{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsx)(k,{}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(c.Label,{htmlFor:"thumbnail",className:"flex items-center gap-2",children:[(0,t.jsx)(C.A,{className:"h-4 w-4"}),"Thumbnail Image"]}),(0,t.jsx)(o.p,{id:"thumbnail",name:"thumbnail",placeholder:"Enter a valid URL for your thumbnail image",required:!0,value:p.thumbnail,onChange:N}),h&&(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("div",{className:"relative aspect-video w-full max-w-md overflow-hidden rounded-md border border-gray-200",children:(0,t.jsx)("div",{className:"relative h-full w-full",children:(0,t.jsx)(i.default,{src:h,alt:"Thumbnail preview",fill:!0,className:"object-cover"})})})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(c.Label,{htmlFor:"videoUrl",className:"flex items-center gap-2",children:[(0,t.jsx)(F.A,{className:"h-4 w-4"}),"Video URL"]}),(0,t.jsx)(o.p,{id:"videoUrl",name:"videoUrl",placeholder:"Enter a valid URL for your video (YouTube, Vimeo, etc.)",required:!0,value:p.videoUrl,onChange:N})]}),(0,t.jsxs)("div",{className:" flex items-center",children:[(0,t.jsx)(o.p,{id:"isFeatured",name:"isFeatured",type:"checkbox",checked:p.isFeatured,onChange:N,style:{width:"auto"}}),(0,t.jsx)(c.Label,{className:"ml-2 mt-0 py-0",htmlFor:"isFeatured",children:"Is video featured"})]})]}),(0,t.jsx)("div",{className:"pt-4",children:(0,t.jsx)(d.$,{type:"submit",className:"w-full dark:hover:bg-purple-700 hover:text-white",disabled:m,children:m?"Uploading...":"Upload Video"})})]})})]})})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[626,999,36,786,60,145,358],()=>r(4338)),_N_E=e.O()}]);